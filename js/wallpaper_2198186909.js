define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function i(e,i,a,n){if(i===n)return!0;if(e===a){if("http"===e)return t(i,"80")===t(n,"80");if("https"===e)return t(i,"443")===t(n,"443")}return!1}var a,n,s,o,r,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,h="undefined"!=typeof location&&location.href,u=h&&location.protocol&&location.protocol.replace(/\:/,""),p=h&&location.hostname,g=h&&(location.port||void 0),m={},f=e.config&&e.config()||{};return a={version:"2.0.16",strip:function(e){if(e){e=e.replace(c,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){i=l[t];try{e=new ActiveXObject(i)}catch(e){}if(e){l=[i];break}}return e},parseName:function(e){var t,i,a,n=!1,s=e.lastIndexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!o||s>1)?(t=e.substring(0,s),i=e.substring(s+1)):t=e,a=i||t,s=a.indexOf("!"),-1!==s&&(n="strip"===a.substring(s+1),a=a.substring(0,s),i?i=a:t=a),{moduleName:t,ext:i,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,s){var o,r,l,c=a.xdRegExp.exec(e);return!c||(o=c[2],r=c[3],r=r.split(":"),l=r[1],r=r[0],(!o||o===t)&&(!r||r.toLowerCase()===n.toLowerCase())&&(!l&&!r||i(o,l,t,s)))},finishLoad:function(e,t,i,n){i=t?a.strip(i):i,f.isBuild&&(m[e]=i),n(i)},load:function(e,t,i,n){if(n&&n.isBuild&&!n.inlineText)return void i();f.isBuild=n&&n.isBuild;var s=a.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),r=t.toUrl(o),l=f.useXhr||a.useXhr;if(0===r.indexOf("empty:"))return void i();!h||l(r,u,p,g)?a.get(r,function(t){a.finishLoad(e,s.strip,t,i)},function(e){i.error&&i.error(e)}):t([o],function(e){a.finishLoad(s.moduleName+"."+s.ext,s.strip,e,i)},function(e){i.error&&i.error(e)})},write:function(e,t,i,n){if(m.hasOwnProperty(t)){var s=a.jsEscape(m[t]);i.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,i,n,s){var o=a.parseName(t),r=o.ext?"."+o.ext:"",l=o.moduleName+r,c=i.toUrl(o.moduleName+r)+".js";a.load(l,i,function(t){var i=function(e){return n(c,e)};i.asModule=function(e,t){return n.asModule(e,c,t)},a.write(e,l,i,s)},s)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),a.get=function(e,t,i){try{var a=n.readFileSync(e,"utf8");"\ufeff"===a[0]&&(a=a.substring(1)),t(a)}catch(e){i&&i(e)}}):"xhr"===f.env||!f.env&&a.createXhr()?a.get=function(e,t,i,n){var s,o=a.createXhr();if(o.open("GET",e,!0),n)for(s in n)n.hasOwnProperty(s)&&o.setRequestHeader(s.toLowerCase(),n[s]);f.onXhr&&f.onXhr(o,e),o.onreadystatechange=function(a){var n,s;4===o.readyState&&(n=o.status||0,n>399&&n<600?(s=new Error(e+" HTTP status: "+n),s.xhr=o,i&&i(s)):t(o.responseText),f.onXhrComplete&&f.onXhrComplete(o,e))},o.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?a.get=function(e,t){var i,a,n=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),r="";try{for(i=new java.lang.StringBuffer,a=o.readLine(),a&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),null!==a&&i.append(a);null!==(a=o.readLine());)i.append(s),i.append(a);r=String(i.toString())}finally{o.close()}t(r)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,o=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in s,a.get=function(e,t){var i,a,n,l={};r&&(e=e.replace(/\//g,"\\")),n=new FileUtils.File(e);try{i=s["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),i.init(n,1,0,!1),a=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),a.init(i,"utf-8",i.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(i.available(),l),a.close(),i.close(),t(l.value)}catch(e){throw new Error((n&&n.path||"")+": "+e)}}),a}),define("text!wallpaper/template.html",[],function(){return'<div class="background_overlay"></div>\n<div class="background_splash slick" data-elementresizer></div>\n<div class="background_background"></div>'}),define("global_libs/require/normalize",[],function(){function e(e,i,n){if(e.match(r)||e.match(o))return e;e=s(e);var l=n.match(o),c=i.match(o);return!c||l&&l[1]==c[1]&&l[2]==c[2]?a(t(e,i),n):t(e,i)}function t(e,t){if("./"==e.substr(0,2)&&(e=e.substr(2)),e.match(r)||e.match(o))return e;var i=t.split("/"),a=e.split("/");for(i.pop();curPart=a.shift();)".."==curPart?i.pop():i.push(curPart);return i.join("/")}function a(e,t){var a=t.split("/");for(a.pop(),t=a.join("/")+"/",i=0;t.substr(i,1)==e.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),e=e.substr(i+1),a=t.split("/");var n=e.split("/");for(out="";a.shift();)out+="../";for(;curPart=n.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var n=/([^:])\/+/g,s=function(e){return e.replace(n,"$1/")},o=/[^\:\/]*:\/\/([^\/])*/,r=/^(\/|data:)/,l=function(t,i,a){i=s(i),a=s(a);for(var n,o,t,r=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;n=r.exec(t);){o=n[3]||n[2]||n[5]||n[6]||n[4];var l;l=e(o,i,a);var c=n[5]||n[6]?1:0;t=t.substr(0,r.lastIndex-o.length-c-1)+l+t.substr(r.lastIndex-c-1),r.lastIndex=r.lastIndex+(l.length-o.length)}return t};return l.convertURIBase=e,l.absoluteURI=t,l.relativeURI=a,l}),define("css",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,i=!1,a=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?a=!1:t[4]&&(i=parseInt(t[4])<18);var n={};n.pluginBuilder="global_libs/require/css-builder";var s,o,r,l=function(){s=document.createElement("style"),e.appendChild(s),o=s.styleSheet||s.sheet},c=0,d=[],h=function(e){c++,32==c&&(l(),c=0),o.addImport(e),s.onload=function(){u()}},u=function(){r();var e=d.shift();return e?(r=e[1],void h(e[0])):void(r=null)},p=function(e,t){if(o&&o.addImport||l(),o&&o.addImport)r?d.push([e,t]):(h(e),r=t);else{s.textContent='@import "'+e+'";';var i=setInterval(function(){try{s.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},g=function(t,i){var n=document.createElement("link");if(n.type="text/css",n.rel="stylesheet",a)n.onload=function(){n.onload=function(){},setTimeout(i,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){if(document.styleSheets[e].href==n.href)return clearInterval(s),i()}},10);n.href=t,e.appendChild(n)};return n.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},n.load=function(e,t,a){(i?p:g)(t.toUrl(e+".css"),a)},n}),define("css!wallpaper/style",[],function(){}),define("wallpaper/main",["text!wallpaper/template.html","css!./style"],function(e){return Backbone.View.extend({template:_.template(e),deferredLoadEventName:"wallpaper-load-complete",defaults:{image_focus:{"000":{mid:0,x:.5,y:.5}},scale_option:"cover",margin:0,limit_size:!1,overlay_color:"rgba(0, 0, 0, 0)",bg_color:"undefined",autoplay:!0,cycle_images:!1,slideshow_transition:"slide",transition_timeout:2.5,transition_duration:1,randomize:!1,image:"//static.cargo.site/assets/backdrop/default.jpg",media_uid:!1,plugin_id:22,repeat_image:!1,limit:!1,auto_advance:!0,click_to_advance:!1,show_navigation:!0,image_size:2e3,width:1500,height:1500},initialize:function(){this.init_version=0,this.in_transition=!1,this.slide_skipped=!1,this.cachedW=0,this.cachedH=0,this.waiting_for_collection=!1,this.auxiliary_container=document.createElement("DIV"),this.auxiliary_container.className="backdrop wallpaper_navigation wallpaper-navigation",this.auxiliary_container.setAttribute("data-auxiliary",""),this.auxiliary_container.style.pointerEvents="none",this.auxiliary_container.style.zIndex="3",this.auxiliary_container._el=document.createElement("DIV"),this.prevArrow=document.createElement("DIV"),this.prevArrow.style.pointerEvents="auto",this.prevArrow.className="slick-prev slick-arrow previous",this.prevArrow.innerHTML='<svg version="1.1" class="left-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t\t\t\t\t\t\t\t\t viewBox="0 0 36 36" style="enable-background:new 0 0 36 36;" xml:space="preserve">\t\t\t\t\t\t\t\t\t\t<polyline class="arrow-outline outer-color" points="21,29 10,18 21,7 \t"/>\t\t\t\t\t\t\t\t\t\t<polyline class="arrow-shape inner-color"class="st1" points="21,29 10,18 21,7 \t"/>\t\t\t\t\t\t\t\t\t\t</svg>',this.nextArrow=document.createElement("DIV"),this.nextArrow.style.pointerEvents="auto",this.nextArrow.className="slick-next slick-arrow next",this.nextArrow.innerHTML='<svg version="1.1" class="right-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t\t\t\t\t\t\t\t\t viewBox="0 0 36 36" style="enable-background:new 0 0 36 36;" xml:space="preserve">\t\t\t\t\t\t\t\t\t\t<polyline class="arrow-outline outer-color" points="21,29 10,18 21,7 \t"/>\t\t\t\t\t\t\t\t\t\t<polyline class="arrow-shape inner-color"class="st1" points="21,29 10,18 21,7 \t"/>\t\t\t\t\t\t\t\t\t\t</svg>',this.auxiliary_container._el.appendChild(this.prevArrow),this.auxiliary_container._el.appendChild(this.nextArrow),this.auxiliary_container.appendChild(this.auxiliary_container._el),this.images_loaded=0,this.images_to_load=0,this.images_load_complete=!1,this.ImageCollection=new Cargo.o.collection.images;var e=Cargo.Collection.Scaffolding.getModel({id:parseInt(this.model.get("page_id"))});e?(this.ImageCollection.set(e.get("images")),this.ImageCollection.comparator="sort",this.ImageCollection.sort()):this.waiting_for_collection=!0,this.SetSizeFromMainView=_.bind(this.SetSizeFromMainView,this),this.showSlideshowUI=_.bind(this.showSlideshowUI,this),this.hideSlideshowUI=_.bind(this.hideSlideshowUI,this);var t=this.model.get("data")?this.model.get("data"):{};t=_.defaults(t,this.defaults);var i={};try{i=Object.assign({},JSON.parse(t.focus_object))}catch(e){i={}}t.image_focus=i,this.model.set("data",t),this.listenTo(this.model,"reset",this.Init),this.needsMobileTransition=Cargo.Helper.isIOS(),this.listenTo(Cargo.Collection.Scaffolding,"add",this.UpdateCollection),this.listenTo(this.ImageCollection,"sync",this.Init)},UpdateCollection:function(){var e,t=Cargo.Collection.Scaffolding.getContentOrPageModelByPid(this.model.get("page_id"));t?(e=t.get("images"),_.isEqual(this.ImageCollection.models,e)||(this.ImageCollection.set(e),this.ImageCollection.comparator="sort",this.ImageCollection.sort(),this.Init())):console.warn("page model not found, collection will not update")},Update:function(e,t){"margin"===e?this.startResize():"scale_option"===e?this.model.get("data").repeat_image?this.Init():this.startResize():"image_alignment"===e?this.startResize():"use_image_focus"===e?this.startResize():"image_focus"===e?this.startResize():"repeat_image"===e?this.Init():"image"===e?this.Init():"backdrop_image_exclusion"===e?this.Init():"sort"===e?this.Init():"autoplay"===e||"cycle_images"===e||"slideshow_transition"===e||"randomize"===e?this.Init():"arrow_navigation"===e?this.toggleNavigationArrows():"transition_timeout"===e?this.setTransitionTimeout():"transition_duration"===e?this.setTransitionDuration():"limit_size"===e?this.startResize():"image_delete"===e?this.UpdateCollection():"image_upload"===e?this.UpdateCollection():"overlay_color"===e?this.updateOverlayColor(t):"bg_color"===e&&this.updateBgColor(t)},Pause:function(){this.model.get("data").autoplay&&this.model.get("data").cycle_images&&this.ImageCollection.length>1&&this.pauseSlick(),this.paused=!0},Resume:function(){clearTimeout(this.initSlickTimeout),this.model.get("data").autoplay&&this.model.get("data").cycle_images&&this.ImageCollection.length>1&&(this.positionSlick(),this.startSlick()),this.paused=!1},destroy:function(){this.stopListening();var e=this.$el.closest(".page_container");e.length>0&&e.get(0).contains(this.auxiliary_container)&&this.auxiliary_container.parentNode.removeChild(this.auxiliary_container),$(this.el).closest(".page_container").find(".container, [data-auxiliary] .slick-arrow").off("mouseenter.toggleUI"),$(this.el).closest(".page_container").find(".container, [data-auxiliary] .slick-arrow").off("mouseleave.toggleUI"),$(this.el).off("mouseenter.toggleUI"),$(this.el).off("mouseleave.toggleUI"),$(this.nextArrow).off("click.wallpaper"),$(this.prevArrow).off("click.wallpaper")},render:function(){this.el.style.transition="",this.el.style.opacity=0;var e=Cargo.Core.Handlebars.Render("{{>loading_animation}}",{});return e+=this.template({settings:this.model.get("data"),images:this.ImageCollection.toJSON()}),this.$el.empty().html(e),this.wallpaperContainer=this.el.querySelector(".background_splash"),this},loadImage:function(e){var t=this;this.images_to_load++;$(".background_splash",this.$el).width(),$(".background_splash",this.$el).height();window.devicePixelRatio>1&&(this.defaults.image_size=2*this.defaults.image_size);var i=Cargo.Collection.Images.fetchImage(e,2048),a=i?i.url:this.defaults.image,n=i?i.w:this.defaults.width,s=i?i.h:this.defaults.height,o=document.createElement("IMG");o.setAttribute("data-view","version"+this.init_version+this.cid),o.onload=function(e){this.getAttribute("src");if(this.getAttribute("data-view")=="version"+t.init_version+t.cid){if(t.images_loaded++,t.model.get("data").repeat_image&&"cover"!==t.model.get("data").scale_option){var i=t.model.get("data").image_alignment||"image_center_center",a=i.split("_")[1],n=i.split("_")[2];this.parentNode.style.backgroundImage="url("+this.src+")",this.parentNode.style.backgroundPosition=n+" "+a;var s=t.el.querySelector('.slick-cloned img[data-mid="'+this.dataset.mid+'"]');s&&(s.parentNode.style.backgroundPosition=n+" "+a,s.parentNode.style.backgroundImage="url("+this.src+")")}t.images_loaded>=Math.min(t.images_to_load,2)&&!t.images_load_complete&&(t.images_load_complete=!0,t.el.style.opacity="",$(".loading_animation",t.el).addClass("hidden"),t.model.get("data").cycle_images?(Cargo.Event.trigger(t.deferredLoadEventName),t.initSlickTimeout=setTimeout(function(){t.model.get("data").autoplay&&t.Resume()},t.getTime(t.model.get("data").transition_duration,0)+500)):Cargo.Event.trigger(t.deferredLoadEventName),t.needsMobileTransition&&$(".background_splash",t.$el).addClass("transition"))}},i?$(o).attr({"data-mid":e,width:n,height:s,"data-url":i.url}):$(o).attr({src:a,height:1500,width:1500,"data-mid":"default"});var r=$("<div>").attr({class:"slide_container","data-slide-uid":_.uniqueId()}).append(o);$("<div>").attr("class","outer_container").append(r).appendTo($(".background_splash",this.$el));this.model.get("data").cycle_images||this.trigger("active-image",o),this.startResize()},updateBgColor:function(e){var t=this;$(".background_background",this.$el).css("background-color",e),$(".background_background",this.$el).css("transform","scale(1.001)"),requestAnimationFrame(function(){$(".background_background",t.$el).css("transform","")})},updateOverlayColor:function(e){$(".background_overlay",this.$el).css("background-color",e),$(".background_overlay",this.$el).css("transform","scale(1.001)"),requestAnimationFrame(function(){$(".background_overlay",_this.$el).css("transform","")})},SetSizeFromMainView:function(e,t){this.cachedW==e&&this.cachedH==t||(this.cachedH=t,this.cachedW=e,this.startResize())},startResize:function(){if(this.el&&this.wallpaperContainer&&(!this.el||$.contains(document.documentElement,this.el))){var e=Object.assign({},this.model.get("data")),t=$(".slide_container img",this.$el),i=Math.min(this.cachedW,this.cachedH),a="cover"!==e.scale_option&&e.repeat_image,n=e.margin;a&&(34==n?n=33.333:67==n&&(n=66.666));var s,o,r=Math.floor(.005*n*i),l=this.cachedH-2*r,c=this.cachedW-2*r,d=c/l;0==e.margin||a?this.wallpaperContainer.style.margin="":this.wallpaperContainer.style.margin=r+"px",t.each(function(){var t=this.getAttribute("width"),i=this.getAttribute("height"),n=t/i,r=this.getAttribute("data-mid");s=e.limit_size&&"cover"!==e.scale_option?Math.min(t,c):c,o=e.limit_size&&"cover"!==e.scale_option?Math.min(i,l):l;var h,u,p,g;if("cover"==e.scale_option){if(n<=d){var m=s/t;h=s,g=i*m}else{var m=o/i;g=o,h=t*m}var f=.5,v=.5;if(r in e.image_focus){f=e.image_focus[r].x,v=e.image_focus[r].y;var _=Math.min(g,l)-g,w=Math.min(h,c)-h;u=-(h*f-.5*c),p=-(g*v-.5*l);var y=Math.max(0,_-p),k=Math.max(0,w-u);p=Math.min(0,p+y),u=Math.min(0,u+k)}else u=(c-h)*f,p=(l-g)*v}else{if(n>=d){var m=s/t;h=s,g=i*m}else{var m=o/i;g=o,h=t*m}u=.5*(c-h),p=.5*(l-g)}var b=closest(this,function(e){if(e&&e.nodeType===Node.ELEMENT_NODE)return e.classList.contains("slide_container")});if(a){var x=e.image_alignment||"image_center_center",I=x.split("_")[1],C=x.split("_")[2];b.style.backgroundPosition=C+" "+I,b.style.width="100%",b.style.marginLeft="",b.style.marginTop="",b.style.height="100%",b.style.backgroundSize=Math.max(1,h)+"px "+Math.max(1,g)+"px",this.style.opacity=0,this.style.width=h,this.style.height=g}else this.style.opacity="",b.style.width=h+"px",b.style.marginLeft=u+"px",b.style.marginTop=p+"px",b.style.height=g+"px"}),e.cycle_images&&this.positionSlick(),Cargo.Plugins.elementResizer.requestTick()}},Init:function(e){this.init_version++;var t=this.model.get("data");this.waiting_for_collection=!1,this.images_loaded=0,this.images_to_load=0,this.images_load_complete=!1,this.render();var i=this.$el.closest(".page_container");i.length>0&&i.get(0).contains(this.auxiliary_container)&&this.auxiliary_container.parentNode.removeChild(this.auxiliary_container),this.updateBgColor(t.bg_color),this.updateOverlayColor(t.overlay_color);var a=_.filter(this.ImageCollection.models,function(e){return!e.get("exclude_from_backdrop")});if(1==t.cycle_images&&a.length>1)this.$el.find(".background_splash").addClass("slick"),this.AddSlideshowImages(),this.StartSlideshow(),this.setTransitionDuration(),this.setTransitionTimeout();else{var n=t.image;0==a.length&&t.cycle_images?n="default":1==a.length&&t.cycle_images&&(n=a[0].id),this.$el.find(".background_splash").removeClass("slick"),this.in_transition=!1,this.loadImage(n)}_.each(this.ImageCollection.models,function(e){}),this.startResize(),Cargo.Plugins.elementResizer.requestRefreshTick()},AddSlideshowImages:function(){if(this.ImageCollection&&this.ImageCollection.length>0){var e=this.ImageCollection.toJSON();1==this.model.get("data").randomize&&(e=_.shuffle(e)),e=_.filter(e,function(e){return!0!==e.exclude_from_backdrop}),_.each(e,function(e,t){this.loadImage(e.id)},this)}},setTransitionDuration:function(){$(".background_splash.slick-slider",this.$el).slick("slickSetOption","speed",this.getTime(this.model.get("data").transition_duration),0)},setTransitionTimeout:function(){$(".background_splash.slick-slider",this.$el).slick("slickSetOption","autoplaySpeed",this.getTime(this.model.get("data").transition_timeout,.1),!1)},getTime:function(e,t){return e<=t&&(e=t),e*=1e3},positionSlick:function(){$(".background_splash.slick-slider .slick-track",this.$el).css("transition",""),$(".background_splash.slick-slider",this.$el).slick("setPosition"),this.slide_skipped=!0},pauseSlick:function(){var e=$(".background_splash.slick-slider",this.$el);e.length>0&&e.slick("slickPause")},nextSlide:function(e){var t=$(".background_splash.slick-slider",this.$el);t.length>0&&(e&&(t.slick("getSlick").$slideTrack.finish(),t.slick("getSlick").$slides.finish()),t.slick("slickNext",e))},prevSlide:function(e){var t=$(".background_splash.slick-slider",this.$el);t.length>0&&(e&&(t.slick("getSlick").$slideTrack.finish(),t.slick("getSlick").$slides.finish()),t.slick("slickPrev",e))},startSlick:function(){var e=$(".background_splash.slick-slider",this.$el);this.model.get("data").autoplay&&this.model.get("data").cycle_images&&this.ImageCollection.length>1&&e.slick("slickPlay")},startSlide:function(e,t){this.in_transition=!0,this.slide_skipped=!1,this.counter=0},endSlide:function(e,t,i){var a=t.$slides[i].querySelector("img");this.trigger("active-image",a);var n=t.$slides.length;t.$slides.each(function(e,t){var a=t.querySelector("img");i-2<=0&&e>=n-2?a.style.setProperty("display",""):i+2>=n&&e<=2?a.style.setProperty("display",""):Math.abs(i-e)<=2?a.style.setProperty("display",""):a.style.setProperty("display","none")}),this.in_transition=!1},hideSlideshowUI:function(e){clearTimeout(this.hideUI),this.hover_over_arrow||($(this.prevArrow).addClass("hidden"),$(this.nextArrow).addClass("hidden"))},showSlideshowUI:function(e){var t=this;if(e){if(closest(e.currentTarget,function(e){if(e&&e.nodeType===Node.ELEMENT_NODE)return e.hasAttribute("split-responsive")})&&e.currentTarget.classList.contains("container"))return}clearTimeout(this.hideUI),this.hover_over_arrow||(this.hideUI=setTimeout(function(){t.hideSlideshowUI()},1500)),$(this.prevArrow).removeClass("hidden"),$(this.nextArrow).removeClass("hidden")},toggleNavigationArrows:function(){if(this.el.parentElement){var e=this,t=this.model.get("data");if(t.arrow_navigation&&t.cycle_images&&this.ImageCollection.length>1)this.el.parentElement.parentElement.appendChild(this.auxiliary_container),$(this.prevArrow).removeClass("hidden"),$(this.nextArrow).removeClass("hidden"),$(this.nextArrow).on("click.wallpaper",_.bind(function(e){e.preventDefault(),$(".background_splash.slick-slider",this.$el).slick("slickNext")},this)),$(this.prevArrow).on("click.wallpaper",_.bind(function(e){e.preventDefault(),$(".background_splash.slick-slider",this.$el).slick("slickPrev")},this)),this.hideUI=setTimeout(function(){e.hideSlideshowUI()},1500);else{var i=this.$el.closest(".page_container");i.length>0&&i.get(0).contains(this.auxiliary_container)&&this.auxiliary_container.parentNode.removeChild(this.auxiliary_container)}}},StartSlideshow:function(){var e=this,t=this.model.get("data");$(".background_splash.slick-slider",this.$el).slick("unslick");var i=$(this.el).closest(".page_container").find(".container, .wallpaper_navigation"),a=$(this.nextArrow).find(".right-arrow").add($(this.prevArrow).find(".left-arrow"));i.off(".toggleUI"),a.off(".toggleUI"),$(this.el).off(".toggleUI"),$(this.nextArrow).off("click.wallpaper"),$(this.prevArrow).off("click.wallpaper");var n=$(".background_splash",this.$el),s=n.find("img"),o=s.length;s.each(function(e,t){e>=o-2?t.style.setProperty("display",""):2>=o&&e<=2?t.style.setProperty("display",""):Math.abs(0-e)<=2?t.style.setProperty("display",""):t.style.setProperty("display","none")}),this.toggleNavigationArrows(),n.slick({fade:"fade"==t.slideshow_transition,speed:this.getTime(t.transition_duration,0),cssEase:"ease-in-out",useCSS:!0,autoplay:!1,draggable:!1,autoplaySpeed:this.getTime(t.transition_timeout),pauseOnHover:!1,dots:!1,swipeToSlide:!1,swipe:!0,touchMove:!0,useTransform:!0,arrows:!1,dots:!1,lazyLoad:"ondemand"});var r=n.slick("getSlick").$slides[0].querySelector("img");r&&this.trigger("active-image",r),n.on("beforeChange",this.startSlide.bind(this)),n.on("afterChange",this.endSlide.bind(this)),i.on("mousemove.toggleUI",this.showSlideshowUI),i.on("mouseleave.toggleUI",function(t){e.hover_over_arrow||(e.hideUI=setTimeout(function(){e.hideSlideshowUI()},250))}),a.on("mouseenter.toggleUI",function(t){$(e.prevArrow).removeClass("hidden"),$(e.nextArrow).removeClass("hidden"),e.hover_over_arrow=!0}),a.on("mouseleave.toggleUI",function(t){e.hover_over_arrow=!1}),$(this.el).on("mousemove.toggleUI",this.showSlideshowUI),$(this.el).on("mouseleave.toggleUI",this.hideSlideshowUI)}})}),Backdrop.Data.require_loaded=!0,function(e){var t=document,i="appendChild",a="styleSheet",n=t.createElement("style");n.type="text/css",t.getElementsByTagName("head")[0][i](n),n[a]?n[a].cssText=e:n[i](t.createTextNode(e))}('\n[data-backdrop="wallpaper"] .background_splash {\n\toverflow: hidden;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 2;\n}\n\n.wallpaper_navigation.unclickable,\n.wallpaper_navigation.unclickable * {\n\tpointer-events:none!important\n}\n\nbody.mobile [data-backdrop="wallpaper"] .background_splash.transition {\n\ttransition: margin 100ms linear, height 100ms linear;\t\n}\n\n[data-backdrop="wallpaper"] .background_overlay {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 3;\n\tpointer-events: none;\n}\n\n[data-backdrop="wallpaper"] .background_background {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1;\n\tpointer-events: none;\n}\n\n\n[split-layout] [data-backdrop="wallpaper"] .background_splash,\n[split-responsive] [data-backdrop="wallpaper"] .background_splash {\n\tpointer-events: auto;\t\n}\n\n[data-backdrop="wallpaper"] .background_splash {\n\tpointer-events:none;\n}\n\n\n[data-backdrop="wallpaper"] .click .background_splash {\n\tcursor: pointer;\n}\n\n[data-backdrop="wallpaper"] .background_splash .slick-track {\n\twill-change: transform, opacity;\n}\n\n[data-backdrop="wallpaper"] .slick-list,\n[data-backdrop="wallpaper"] .slick-track,\n[data-backdrop="wallpaper"] .slick-slide,\n[data-backdrop="wallpaper"] .background_splash .slide_container {\n\tbackground-position: center center;\n\theight: 100%;\n}\n\n[data-backdrop="wallpaper"] .background_splash .outer_container {\n    overflow: hidden;\n    height: 100%;\n    position: relative;\n}\n\n[data-backdrop="wallpaper"] .background_splash .slide_container {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n\n[data-backdrop="wallpaper"] .slide_container img {\n\ttop: 0;\n\tleft: 0;\n\tposition:absolute;\n\theight: 100%!important;\n\twidth: 100%!important;\n\tmin-width: 100%;\n\tmin-height: 100%;\n\toutline: 0px!important;\n}\n');